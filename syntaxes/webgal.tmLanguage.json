{
    "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
    "name": "WebGAL Script",
    "patterns": [
        {
            "include": "#comment-"
        },
        {
            "include": "#statement"
        }
    ],
    "repository": {
        "character": {
            "match": ".*",
            "name": "entity.name.type.character.webgal"
        },
        "command": {
            "match": ".*",
            "name": "support.function.command.webgal"
        },
        "comment-": {
            "match": "\\;.*?$",
            "name": "comment.line.comment.webgal"
        },
        "operator": {
            "match": "[\\:\\=\\<\\>\\|\\+\\-]",
            "name": "keyword.operator.operator.webgal"
        },
        "utterance": {
            "match": ".*",
            "name": "string.unquoted.utterance.webgal"
        },
        "character-colon": {
            "match": "^(?!(?:intro|changeBg|changeFigure|miniAvatar|changeScene|choose|end|bgm|playVideo|setComplexAnimation|setFilter|pixiInit|pixiPerform|label|jumpLabel|setVar|callScene|showVars|unlockCg|unlockBgm|say|filmMode|callScene|setTextbox|setAnimation)\\:)(.*?)(\\:)([^\\;\\n]*?)($|\\;.*?$)",
            "captures": {
                "1": {
                    "name": "meta.character.webgal",
                    "patterns": [
                        {
                            "include": "#character"
                        }
                    ]
                },
                "2": {
                    "patterns": [
                        {
                            "include": "#operator"
                        }
                    ]
                },
                "3": {
                    "patterns": [
                        {
                            "match": ".*",
                            "name": "string.unquoted.webgal.todo"
                        }
                    ]
                },
                "4": {
                    "patterns": [
                        {
                            "include": "#comment-"
                        }
                    ]
                }
            }
        },
        "command-colon": {
            "match": "^(intro|changeBg|changeFigure|miniAvatar|changeScene|choose|end|bgm|playVideo|setComplexAnimation|setFilter|pixiInit|pixiPerform|label|jumpLabel|setVar|callScene|showVars|unlockCg|unlockBgm|say|filmMode|callScene|setTextbox|setAnimation)(\\:)([^\\;\\n]*?)($|\\;.*?$)",
            "captures": {
                "1": {
                    "name": "meta.command.webgal",
                    "patterns": [
                        {
                            "include": "#command"
                        }
                    ]
                },
                "2": {
                    "patterns": [
                        {
                            "include": "#operator"
                        }
                    ]
                },
                "3": {
                    "patterns": [
                        {
                            "match": ".*",
                            "name": "variable.parameter.webgal.todo"
                        }
                    ]
                },
                "4": {
                    "patterns": [
                        {
                            "include": "#comment-"
                        }
                    ]
                }
            }
        },
        "command-semicolon": {
            "match": "^(intro|changeBg|changeFigure|miniAvatar|changeScene|choose|end|bgm|playVideo|setComplexAnimation|setFilter|pixiInit|pixiPerform|label|jumpLabel|setVar|callScene|showVars|unlockCg|unlockBgm|say|filmMode|callScene|setTextbox|setAnimation)($|\\;.*?$)",
            "captures": {
                "1": {
                    "name": "meta.command.webgal",
                    "patterns": [
                        {
                            "include": "#command"
                        }
                    ]
                },
                "2": {
                    "patterns": [
                        {
                            "include": "#comment-"
                        }
                    ]
                }
            }
        },
        "utterance-semicolon": {
            "match": "^(?!(?:intro|changeBg|changeFigure|miniAvatar|changeScene|choose|end|bgm|playVideo|setComplexAnimation|setFilter|pixiInit|pixiPerform|label|jumpLabel|setVar|callScene|showVars|unlockCg|unlockBgm|say|filmMode|callScene|setTextbox|setAnimation)\\;)([^\\:\\;\\n]+?)(\\;.*?$)",
            "captures": {
                "1": {
                    "patterns": [
                        {
                            "match": ".*",
                            "name": "string.unquoted.webgal.todo"
                        }
                    ]
                },
                "2": {
                    "patterns": [
                        {
                            "include": "#comment-"
                        }
                    ]
                }
            }
        },
        "statement": {
            "patterns": [
                {
                    "include": "#character-colon"
                },
                {
                    "include": "#command-colon"
                },
                {
                    "include": "#command-semicolon"
                },
                {
                    "include": "#utterance-semicolon"
                }
            ]
        }
    },
    "scopeName": "source.webgal"
}